<UserControl x:Class="MediaPlayerProject.Views.PlayFileView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:MediaPlayerProject.Views"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800"
             Loaded="UserControl_Loaded">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition></ColumnDefinition>
            <ColumnDefinition Width="600"></ColumnDefinition>
        </Grid.ColumnDefinitions>

        <ListView Grid.Column="0"  x:Name="FilesListView" ItemsSource="{Binding MediaFiles}" >
            <ListView.ItemTemplate>
                <DataTemplate >
                    <Button Click="Button_Click">
                        <StackPanel Orientation="Horizontal" Height="44" >
                            <Image Source="{Binding Source='playlist.png',  Converter={StaticResource ImagePathConverter}}" Height="16" Width="16" VerticalAlignment="Center"/>
                            <TextBlock Text="{Binding FileName}" VerticalAlignment="Center"  Margin="12,0,0,0"/>
                        </StackPanel>
                    </Button>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>

        <Canvas Grid.Column="1">
            <Button Grid.Column="1" FontSize="30" Height="40" x:Name="BackBtn" Content="Back" Click="BackButton_Click"></Button>

            <MediaElement Name="previewMediaElement" Width="120" Height="90" Visibility="Visible" LoadedBehavior="Manual" UnloadedBehavior="Stop" Stretch="Fill" Canvas.Left="340" Canvas.Top="230" Panel.ZIndex="20"/>

            <MediaElement Source="{Binding mediaSource}" Name="myMediaElement" 
Width="450" Height="250" LoadedBehavior="Manual" UnloadedBehavior="Stop" Stretch="Fill" 
MediaOpened="Element_MediaOpened" MediaEnded="Element_MediaEnded" Canvas.Left="75" Canvas.Top="39"/>

            <StackPanel HorizontalAlignment="Left" Width="506" Orientation="Horizontal" Canvas.Left="47" Canvas.Top="323" VerticalAlignment="Center">
                <TextBlock Foreground="Black" Margin="5"  VerticalAlignment="Center">Seek To</TextBlock>
                <Slider Name="timelineSlider" Margin="5" ValueChanged="SeekToMediaPosition" Width="440"/>
            </StackPanel>

            <StackPanel HorizontalAlignment="Left" Width="390" Orientation="Horizontal" Canvas.Left="105" Canvas.Top="356" VerticalAlignment="Center">
                <ToggleButton Click="ShuffleMode_Click" Width="20"  Content="🔀" Background="Transparent"/>

                <TextBlock Text="▶" MouseDown="OnMouseDownPlayMedia" Margin="5" />

                <TextBlock Text="◼" MouseDown="OnMouseDownPauseMedia" Margin="5" />

                <TextBlock Text="🔴" MouseDown="OnMouseDownStopMedia" Margin="5" />

                <TextBlock Text="⏮️" MouseDown="OnMouseDownPreMedia" Margin="5" />

                <TextBlock Text="⏪" MouseDown="OnSkipBackward" Margin="5" />

                <TextBlock Text="⏩" MouseDown="OnSkipForward" Margin="5" />

                <TextBlock Text="⏭️" MouseDown="OnMouseDownNextMedia" Margin="5" />

                <TextBlock Foreground="Black" VerticalAlignment="Center" Margin="5"  >Volume</TextBlock>
                <Slider Name="volumeSlider" VerticalAlignment="Center" ValueChanged="ChangeMediaVolume" 
  Minimum="0" Maximum="1" Value="0.5" Width="70"/>

                <TextBlock Foreground="Black" Margin="5"  VerticalAlignment="Center">Speed</TextBlock>
                <Slider Name="speedRatioSlider" VerticalAlignment="Center" ValueChanged="ChangeMediaSpeedRatio" 
  Value="1" Width="70" />
            </StackPanel>
        </Canvas>
    </Grid>
</UserControl>
